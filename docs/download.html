<!DOCTYPE html>
<html lang="en">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XXXXXXXXXX'); // Replace with your GA4 Measurement ID
</script>

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Download</title>
  <meta name="title" content="Download">

  <link rel="stylesheet" href="./assets/css/shared-styles.css">
  <link rel="stylesheet" href="./assets/css/style.css">
  <link rel="stylesheet" href="./assets/css/download.css">
</head>


<body>
  <!-- =============== HEADER ===============-->
  <header class="header" data-header>
    <div class="container">
      <a href="#" class="logo-txt">Darkspin</a>

      <!--- Navbar -->
      <nav class="navbar" data-navbar>
        <!--- Navbar list -->
        <ul class="navbar-list">
          <li>
            <a href="#home" class="navbar-link">Home</a>
          </li>
          <li>
            <a href="#projects" class="navbar-link">Screenshots</a>
          </li>
          <li>
            <a href="#contact" class="navbar-link">Contact</a>
          </li>
        </ul> <!--- Navbar list -->
      </nav> <!--- Navbar -->
    </div>
  </header> <!-- =============== HEADER ===============-->


  <main>
    <article>
      <!-- HERO -->
      <section class="section hero" aria-label="home" id="home">
        <div class="container">
          <!-- HERO TEXT-->
          <div class="hero-content" style="margin-top: 80px;">
            <br><br>
            <h1 class="h1 hero-h1" data-reveal="top" data-reveal-delay="0.1s">Download APK</h1>
            
            <p id="device-label"class="sectionTitle" data-reveal="right" data-reveal-delay="0.2s"></p>
            <a id="primary-download-btn" class="btn btn-secondary">Download APK</a>

            <br><br>
            <p class="sectionTitle" data-reveal="right" data-reveal-delay="0.2s">
              Advanced Download
            </p>
            <!-- =============== BUTTONS ===============-->
            <div style="display: flex; flex-direction: row; gap: 20px">
              <a id="arm64-download-btn" class="btn btn-secondary">(arm64)</a>
              <a id="armeabi-download-btn" class="btn btn-secondary">(armeabi-v7a)</a>
            </div>
            <br><br>
            </div>
          </div>
        </div>
      </section>
      
    </article>
  </main>


  <script>
    document.body.classList.add("dark_theme");
  </script>

  <script src="./assets/js/script.js"></script>

  <!-- ionicon link -->
  <!-- <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script> -->


  <script>
    const deviceLabel = document.getElementById('device-label');

    const downloadBtn = document.getElementById('primary-download-btn');
    const arm64Btn = document.getElementById('arm64-download-btn');
    const armeabiBtn = document.getElementById('armeabi-download-btn');
  
    // APK links
    const apkArm64 = "https://github.com/Vulkkan/darkspin/releases/download/v1.0.0/app-arm64-v8a.apk";
    const apkArmeabi = "https://github.com/Vulkkan/darkspin/releases/download/v1.0.0/app-armeabi-v7a.apk";

    // Detect ABI from user agent
    const ua = navigator.userAgent.toLowerCase();
    let apkLink = apkArmeabi;
    let deviceType = "armeabi-v7a";
  
    if (ua.includes("arm64") || ua.includes("aarch64")) {
      apkLink = apkArm64;
      deviceType = "arm64";
    } else if (ua.includes("armeabi")) {
      apkLink = apkArmeabi;
      deviceType = "armeabi-v7a";
    }
  
    deviceLabel.textContent = "Device detected: " + deviceType;
    downloadBtn.href = apkLink;
    arm64Btn.href = apkArm64;
    armeabiBtn.href = apkArmeabi;
  
    // === TRACKING EVENTS ===
    downloadBtn.addEventListener("click", () => {
      gtag('event', 'download', {
        'event_category': 'APK',
        'event_label': deviceType,
        'value': 1
      });
    });
  
    arm64Btn.addEventListener("click", () => {
      gtag('event', 'download', {
        'event_category': 'APK',
        'event_label': 'arm64',
        'value': 1
      });
    });
  
    armeabiBtn.addEventListener("click", () => {
      gtag('event', 'download', {
        'event_category': 'APK',
        'event_label': 'armeabi-v7a',
        'value': 1
      });
    });
  </script>

</body>
</html>

